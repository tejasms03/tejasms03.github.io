import{j as t}from"./jsx-runtime.D_zvdyIk.js";import{r as s}from"./index.JXKNaeUN.js";import{a as p}from"./index.DkHJdna-.js";import"./iconBase.BY00fp9U.js";const m="notifications_v2";function b(){const[o,d]=s.useState(!1),[a,l]=s.useState([]),c=s.useRef(null),f=[{id:1,text:"Looking for Roles ðŸš€",read:!1},{id:2,text:"Iâ€™m actively seeking research or engineering internships in mobile robotics, swarm robotics, drone systems, and intelligent control.",read:!1}];s.useEffect(()=>{const e=localStorage.getItem(m);if(e){const i=JSON.parse(e),x=new Map(i.map(r=>[r.id,r])),u=f.map(r=>({...r,read:x.get(r.id)?.read??!1}));l(u)}else l(f)},[]),s.useEffect(()=>{a.length>0&&localStorage.setItem(m,JSON.stringify(a))},[a]);const n=a.filter(e=>!e.read).length;return s.useEffect(()=>{function e(i){c.current&&!c.current.contains(i.target)&&d(!1)}return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]),s.useEffect(()=>{o&&n>0&&l(e=>e.map(i=>({...i,read:!0})))},[o,n]),t.jsxs("div",{ref:c,className:"relative",children:[t.jsxs("button",{type:"button","aria-expanded":o,"aria-label":"Notifications",onClick:()=>d(e=>!e),className:"relative rounded-full p-2 hover:bg-gray-700",children:[t.jsx(p,{className:"text-2xl text-white cursor-pointer"}),n>0&&t.jsx("span",{className:"absolute top-0 right-0 inline-flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs text-white",children:n})]}),o&&t.jsx("div",{className:"absolute right-0 z-50 mt-2 w-96 max-w-md rounded-lg bg-gray-900 shadow-lg drop-shadow-[4px_4px_0_#7836cf]",children:t.jsxs("div",{className:"p-3",children:[t.jsx("h4",{className:"mb-2 text-sm font-bold text-gray-200 drop-shadow-[1px_1px_0_#7836cf]",children:"Notifications"}),a.length>0?t.jsx("ul",{className:"max-h-48 divide-y divide-gray-800 overflow-auto",children:a.map(e=>t.jsx("li",{className:`py-2 text-sm whitespace-normal break-words ${e.read?"text-gray-400":"text-white"}`,children:e.text},e.id))}):t.jsx("p",{className:"text-sm text-gray-400",children:"No notifications."})]})})]})}export{b as default};
